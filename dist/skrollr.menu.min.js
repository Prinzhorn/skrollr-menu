/*! skrollr-menu 0.1.12 (2014-07-23) | Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr-menu | Free to use under terms of MIT license */
!function(a,b){"use strict";var c=500,d="sqrt",e=1,f="active",g=".skrollr-menu",h="data-menu-top",i="data-menu-offset",j=b.skrollr,k=b.history,l=!!k.pushState,m=function(b){return b===a?!1:"A"===b.tagName.toUpperCase()?b:m(b.parentNode)},n=function(a){if(1===a.which||0===a.button){var b=m(a.target);b&&o(b)&&a.preventDefault()}},o=function(b,c){var d=b.getAttribute("href");if(!/^#/.test(d))return!1;var e,f;if(f=w?w(b):b.getAttribute(h),null!==f)e=/p$/.test(f)?f.slice(0,-1)/100*a.documentElement.clientHeight:+f*x;else{var g=a.getElementById(d.substr(1));if(!g)return!1;e=s.relativeToAbsolute(g,"top","top");var j=g.getAttribute(i);null!==j&&(e+=+j)}return l&&!c&&k.pushState({top:e},"",d),v&&!c?(s.animateTo(e,{duration:u(s.getScrollTop(),e),easing:t}),p()):r(function(){s.setScrollTop(e)}),!0},p=function(){if(b.location.hash&&a.querySelector){var c=a.querySelector(z+" a.active");c.className=c.className.replace(y,"");var d=a.querySelector('a[href="'+b.location.hash+'"]');d.className=d.className+" "+y}},q=function(){if(b.location.hash&&a.querySelector){var c=a.querySelector('a[href="'+b.location.hash+'"]');c&&o(c,!0)}},r=function(a){b.setTimeout(a,1)};j.menu={},j.menu.init=function(h,i){s=h,i=i||{},t=i.easing||d,v=i.animate!==!1,u=i.duration||c,w=i.handleLink,x=i.scale||e,y=i.activeClass||f,z=i.menuSelector||g,"number"==typeof u&&(u=function(a){return function(){return a}}(u)),j.addEvent(a,"click",n),l&&j.addEvent(b,"popstate",function(a){var b=a.state||{},c=b.top||0;r(function(){s.setScrollTop(c)})},!1),q()},j.menu.click=function(a){o(a)};var s,t,u,v,w,x,y,z;r(function(){b.location.hash&&b.scrollTo(0,0)})}(document,window);
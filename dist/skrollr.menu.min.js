/*! skrollr-menu 0.1.10 (2014-03-13) | Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr-menu | Free to use under terms of MIT license */
!function(a,b){"use strict";var c=500,d="sqrt",e=1,f="data-menu-top",g="data-menu-offset",h=b.skrollr,i=b.history,j=!!i.pushState,k=function(b){return b.tagName&&"A"===b.tagName.toUpperCase()?b:b===a?!1:k(b.parentNode)},l=function(a){if(1===a.which||0===a.button){var b=k(a.target);b&&m(b)&&a.preventDefault()}},m=function(b,c){var d=b.getAttribute("href");if(!/^#/.test(d))return!1;var e,h;if(h=t?t(b):b.getAttribute(f),null!==h)e=/p$/.test(h)?h.slice(0,-1)/100*a.documentElement.clientHeight:+h*u;else{var k=a.getElementById(d.substr(1));if(!k)return!1;e=p.relativeToAbsolute(k,"top","top");var l=k.getAttribute(g);null!==l&&(e+=+l)}return j&&!c&&i.pushState({top:e},"",d),s&&!c?p.animateTo(e,{duration:r(p.getScrollTop(),e),easing:q}):o(function(){p.setScrollTop(e)}),!0},n=function(){if(b.location.hash&&a.querySelector){var c=a.querySelector('a[href="'+b.location.hash+'"]');c&&m(c,!0)}},o=function(a){b.setTimeout(a,1)};h.menu={},h.menu.init=function(f,g){p=f,g=g||{},q=g.easing||d,s=g.animate!==!1,r=g.duration||c,t=g.handleLink,u=g.scale||e,"number"==typeof r&&(r=function(a){return function(){return a}}(r)),h.addEvent(a,"click",l),j&&h.addEvent(b,"popstate",function(a){var b=a.state||{},c=b.top||0;o(function(){p.setScrollTop(c)})},!1),n()};var p,q,r,s,t,u;o(function(){b.location.hash&&b.scrollTo(0,0)})}(document,window);
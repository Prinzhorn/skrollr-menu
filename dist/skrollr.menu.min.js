/*! skrollr-menu 1.0.0 (2015-01-16) | Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr-menu | Free to use under terms of MIT license */
(function(t,e){"use strict";var n=500,a="sqrt",o=1,r="data-menu-top",i="data-menu-offset",u="data-menu-duration",c=e.skrollr,l=e.history,s=!!l.pushState,f=function(e){return e===t?!1:"A"===e.tagName.toUpperCase()?e:f(e.parentNode)},h=function(t){if(1===t.which||0===t.button){var e=f(t.target);e&&p(e)&&t.preventDefault()}},p=function(n,a){var o;if(k){if(n.hostname!==e.location.hostname)return!1;if(n.pathname!==t.location.pathname)return!1;o=n.hash}else o=n.getAttribute("href");if(!/^#/.test(o))return!1;var c,f;if(f=T?T(n):n.getAttribute(r),null!==f)c=/p$/.test(f)?f.slice(0,-1)/100*t.documentElement.clientHeight:+f*A;else{var h=t.getElementById(o.substr(1));if(!h)return!1;c=v.relativeToAbsolute(h,"top","top");var p=h.getAttribute(i);null!==p&&(c+=+p)}s&&!a&&l.pushState({top:c},"",o);var m=parseInt(n.getAttribute(u),10),E=b(v.getScrollTop(),c);return isNaN(m)||(E=m),y&&y(o,c),S&&!a?v.animateTo(c,{duration:E,easing:g}):d(function(){v.setScrollTop(c)}),!0},m=function(){if(e.location.hash&&t.querySelector){var n=t.querySelector('a[href="'+e.location.hash+'"]');n||(n=t.createElement("a"),n.href=e.location.hash),p(n,!0)}},d=function(t){e.setTimeout(t,1)};c.menu={},c.menu.init=function(r,i){v=r,i=i||{},g=i.easing||a,S=i.animate!==!1,b=i.duration||n,T=i.handleLink,A=i.scale||o,k=i.complexLinks===!0,y=i.change,"number"==typeof b&&(b=function(t){return function(){return t}}(b)),c.addEvent(t,"click",h),s&&c.addEvent(e,"popstate",function(t){var e=t.state||{},n=e.top||0;d(function(){v.setScrollTop(n)})},!1),m()},c.menu.click=function(t){p(t)};var v,g,b,S,T,A,k,y;d(function(){e.location.hash&&e.scrollTo(0,0)})})(document,window);